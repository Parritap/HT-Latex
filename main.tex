\documentclass[12pt]{report}
\input{config/paquetes.tex}
\usepackage[absolute,overlay]{textpos}
\usepackage{babel}
\usepackage{lmodern}
\usepackage{iflang}
\usepackage{xspace}
\usepackage[table,xcdraw]{xcolor}
\usepackage{hyperref}
\usepackage{tabularx}
\usepackage{array}
\usepackage{titlesec}
\usepackage{eso-pic}

% Configuración del tamaño de secciones y subsecciones
\titleformat{\section}
  {\large\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}
  {\normalsize\bfseries}{\thesubsection}{1em}{}
\titleformat{\subsubsection}
  {\normalsize\bfseries}{\thesubsubsection}{1em}{}

\input{config/paquetes.tex}
\input{config/variables.tex} 

% Configuración de encabezados y pies de página
\pagestyle{fancy}
\fancyhf{} % Limpia todos los encabezados y pies
\renewcommand{\headrulewidth}{0pt} % Sin línea en el encabezado
\renewcommand{\footrulewidth}{0pt} % Sin línea en el pie

% Configuración del banner inferior desde la página 1
% Ajustes de posición en puntos (1pt ≈ 1 pixel a 72 DPI)
\newcommand{\bannerHeight}{68.16pt} % 2.4cm = 68.16pt
\newcommand{\bannerXOffset}{0pt} % Desplazamiento horizontal del banner
\newcommand{\bannerYOffset}{0pt} % Desplazamiento vertical del banner
\newcommand{\pageNumXOffset}{28.35pt} % 1cm = 28.35pt - posición X del número
\newcommand{\pageNumYOffset}{35.05pt} % 3cm = 85.05pt - posición Y del número

\fancyfoot[C]{%
  \begin{tikzpicture}[remember picture, overlay]
    % Banner que ocupa todo el ancho de la página
    \node[anchor=south, inner sep=0pt] at ([xshift=\bannerXOffset, yshift=\bannerYOffset]current page.south) {%
      \includegraphics[width=\paperwidth, height=\bannerHeight]{./images/banner-inferior.png}%
    };
    % Número de página sobre la imagen en la esquina inferior izquierda
    \node[anchor=south west, text=black, font=\bfseries] 
      at ([xshift=\pageNumXOffset, yshift=\pageNumYOffset]current page.south west) {\thepage};
  \end{tikzpicture}%
}


% Marcador para la sección de Siglas
\newcommand{\siglaref}{\hyperref[cap:siglas]{\nameref{cap:siglas}}}

% Ahora definimos cada sigla con enlace hacia la lista
\newcommand{\API}{\hyperref[cap:siglas]{API}\xspace}
\newcommand{\CMMI}{\hyperref[cap:siglas]{CMMI}\xspace}
\newcommand{\CPU}{\hyperref[cap:siglas]{CPU}\xspace}
\newcommand{\DAR}{\hyperref[cap:siglas]{DAR}\xspace}
\newcommand{\GRID}{\hyperref[cap:siglas]{GRID}\xspace}
\newcommand{\IT}{\hyperref[cap:siglas]{IT}\xspace}
\newcommand{\SMS}{\hyperref[cap:siglas]{SMS}\xspace}
\newcommand{\VBC}{\hyperref[cap:siglas]{VBC}\xspace}
\newcommand{\TI}{\hyperref[cap:siglas]{TI}\xspace}
\newcommand{\PMV}{\hyperref[cap:siglas]{PMV}\xspace}
\newcommand{\PMBOK}{\hyperref[cap:siglas]{PMBOK}\xspace}
\newcommand{\ISO}{\hyperref[cap:siglas]{ISO}\xspace}
\newcommand{\CNCF}{\hyperref[cap:siglas]{CNCF}\xspace}
\newcommand{\TOGAF}{\hyperref[cap:siglas]{TOGAF}\xspace}
\newcommand{\IEC}{\hyperref[cap:siglas]{IEC}\xspace}
\newcommand{\CS}{\hyperref[cap:siglas]{CS}\xspace}
\newcommand{\CLI}{\hyperref[cap:siglas]{CLI}\xspace}
\newcommand{\UI}{\hyperref[cap:siglas]{UI}\xspace}
\newcommand{\HPC}{\hyperref[cap:siglas]{HPC}\xspace}
\newcommand{\AWS}{\hyperref[cap:siglas]{AWS}\xspace}
\newcommand{\OCI}{\hyperref[cap:siglas]{OCI}\xspace}
\newcommand{\VM}{\hyperref[cap:siglas]{VM}\xspace}
\newcommand{\OS}{\hyperref[cap:siglas]{OS}\xspace}
\newcommand{\PMI}{\hyperref[cap:siglas]{PMI}\xspace}
\newcommand{\CPD}{\hyperref[cap:siglas]{CPD}\xspace}

% Comando para capítulos SIN numeración de página (páginas especiales)
\newcommand{\ChapterImageEmpty}[3][]{%
  \cleardoublepage
  \thispagestyle{fancy}%
  \refstepcounter{chapter}%
  \AddToShipoutPictureBG*{%
    \begin{tikzpicture}[remember picture,overlay]
      % Imagen de fondo al ancho de la página
      \node[inner sep=0pt, anchor=north west] at (current page.north west)
        {\includegraphics[width=\paperwidth]{#3}};
      % Caja blanca que se adapta al ancho del texto
      \node[
        anchor=north west,
        xshift=1.5cm, yshift=-1.0cm,
        text=black,
        fill=white, fill opacity=0.8,
        rounded corners=6pt,
        inner xsep=10pt, inner ysep=6pt
      ] at (current page.north west)
        {\Large\bfseries \thechapter\quad #2\strut};
    \end{tikzpicture}
  }%
}

% Comando para secciones preliminares (sin numeración pero en índice)
\newcommand{\ChapterImagePrelim}[3][]{%
  \cleardoublepage%
  \phantomsection%
  \addcontentsline{toc}{chapter}{#2}%
  \AddToShipoutPictureBG*{%
    \begin{tikzpicture}[remember picture,overlay]
      % Imagen de fondo al ancho de la página
      \node[inner sep=0pt, anchor=north west] at (current page.north west)
        {\includegraphics[width=\paperwidth]{#3}};
      % Caja blanca que se adapta al ancho del texto
      \node[
        anchor=north west,
        xshift=1.5cm, yshift=-1.0cm,
        text=black,
        fill=white, fill opacity=0.8,
        rounded corners=6pt,
        inner xsep=10pt, inner ysep=6pt
      ] at (current page.north west)
        {\Large\bfseries #2\strut};
    \end{tikzpicture}
  }%
}

% Comando para capítulos CON numeración de página (capítulos normales)
\newcommand{\ChapterImageStar}[3][]{%
  \cleardoublepage%
  \refstepcounter{chapter}%
  \addcontentsline{toc}{chapter}{\protect\numberline{\thechapter}#2}%
  \AddToShipoutPictureBG*{%
    \begin{tikzpicture}[remember picture,overlay]
      % Imagen de fondo al ancho de la página
      \node[inner sep=0pt, anchor=north west] at (current page.north west)
        {\includegraphics[width=\paperwidth]{#3}};
      % Caja blanca que se adapta al ancho del texto
      \node[
        anchor=north west,
        xshift=1.5cm, yshift=-1.0cm,
        text=black,
        fill=white, fill opacity=0.8,
        rounded corners=6pt,
        inner xsep=10pt, inner ysep=6pt
      ] at (current page.north west)
        {\Large\bfseries \thechapter\quad #2\strut};
    \end{tikzpicture}
  }%
}

\newcommand\BackgroundPic{%
    \put(-25,-2){%
        \parbox[b][\paperheight]{\paperwidth}{%
            \vfill
            \centering
            \includegraphics[scale=1,height=\paperheight]{./images/fondo-anteportada.png}%
            \vfill
}}}

\newcommand\PortadaPic{%
    \put(0,0){%
        \parbox[b][\paperheight]{\paperwidth}{%
            \vfill
            \centering
            \includegraphics[width=\paperwidth,height=\paperheight]{images/portada.png}%
            \vfill
}}}

\begin{document}


\input{anteportada.tex}
\input{portada.tex}

% Página en blanco antes de la dedicatoria
\cleardoublepage%
\thispagestyle{empty}
\vspace*{\fill}
\begin{center}
\small\textit{Página en blanco intencionalmente}
\end{center}
\vspace*{\fill}
\newpage

\input{capitulos/dedicatoria.tex}

\input{capitulos/agradecimientos.tex}

% Página en blanco después de agradecimientos
\cleardoublepage%
\thispagestyle{empty}
\vspace*{\fill}
\begin{center}
\small\textit{Página en blanco intencionalmente}
\end{center}
\vspace*{\fill}
\newpage

\input{indice.tex}
\input{resumen.tex}

\input{capitulos/listaFiguras.tex}
\input{capitulos/listaTablas.tex}

% Reiniciar numeración de capítulos para el contenido principal
\setcounter{chapter}{0}
\renewcommand{\thechapter}{\arabic{chapter}}
\input{capitulos/introduccion.tex}
\input{capitulos/glosario.tex} 
\input{capitulos/siglas.tex}
\input{capitulos/objetivos.tex}
\input{capitulos/justificacion.tex}
\input{capitulos/metodologia.tex}
\input{capitulos/marcoConceptual.tex}
\input{capitulos/marcoTeorico.tex}
\input{capitulos/desarrolloMetodologico.tex}

\input{capitulos/desarrolloMetodologico/caracterizacionGRID.tex}
\input{capitulos/desarrolloMetodologico/mapeoSMS.tex}
\input{capitulos/desarrolloMetodologico/caracterizacionVBC.tex}
\input{capitulos/benchmarking.tex}
\input{capitulos/DAR.tex}
\input{capitulos/disenio.tex}

\input{capitulos/resultados.tex}
\input{capitulos/conclusiones.tex}
\input{capitulos/trabajos-futuros.tex}

\input{capitulos/cumplimientoObjetivos.tex}



\input{capitulos/referencias.tex}

\input{apendices/apendices.tex}

\end{document}